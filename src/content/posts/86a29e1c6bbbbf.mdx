---
title: "typescriptã§ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®auto importã‚’ã—ãªã„ã‚ˆã†ã«ã—ãŸã„"
emoji: "ğŸ¦”"
type: "tech"
tags:
  - "Next.js"
  - "TypeScript"
published: true
published_at: "2023-04-05 11:44"
---

# ã¯ã˜ã‚ã«

server components(sc)ã¨ client components(cc)ã¨ã„ã†æ©Ÿèƒ½ãŒ nextjs ã®`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚å…ˆæ—¥è©¦ã—ã¦ã„ãŸã¨ãã«ã€vscode ã® import ã®ã‚ã‚“ã©ãã•ã•ãŒã‚ã£ãŸã®ã§ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚ã‚ˆã‚Šè‰¯ã„æ–¹æ³•ãªã©ã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚

# çµè«–

vscode å‰æã§ã™ã€‚
**typescript ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ 4.8 ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ã€‚

```json:.vscode/settings.json
{
  "typescript.tsdk": "node_modules/typescript/lib",
  "typescript.preferences.autoImportFileExcludePatterns": [
    // é™¤å¤–ã—ãŸã„ã‚‚ã®ã‚’æ›¸ã
  ]
}
```

# ä½¿ç”¨ä¾‹çš„ãªã‚‚ã®

app ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ä¾‹ãˆã°[chakra ui](https://chakra-ui.com/)ã‚’çµ„ã¿åˆã‚ã›ãŸã„ã¨ã—ã¾ã™ã€‚
ã¨ã‚Šã‚ãˆãšã€`ChakraProvider`ã§ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å›²ã¿ãŸã„ã‚“ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã ã¨å‹•ãã¾ã›ã‚“ã€‚

```tsx:layout.tsx(å‹•ã‹ãªã„)
import { ChakraProvider } from '@chakra-ui/react';

export const metadata = {
  title: 'Tatsumi Yamamoto',
  description: 'yamamoto tatsumi dayo',
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang='ja'>
      <head />
      <ChakraProvider>
        <body>{children}</body>
      </ChakraProvider>
    </html>
  );
}
```

ç†ç”±ã¯ layout.tsx ã«`'use client';`ãŒãªãã€sc ã§ã¯ state ãªã©ãŒä½¿ãˆãªã„ã‹ã‚‰ã§ã™ã€‚ChakraProvider ã¯å†…éƒ¨ã§ state ã¨ã‹ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

ãã“ã§ã€`'use client';`ã‚’è¶³ã—ã¦ cc ã«ã—ã¦ã¿ã¾ã™ãŒã€ã“ã‚Œã¯è‰¯ããªã„ã¿ãŸã„ã§ã™ã€‚

> root layout ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ Server component ã§ã‚ã‚Šã€Client Component ã«ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
> (The root layout is a Server Component by default and can not be set to a Client Component.)

https://beta.nextjs.org/docs/routing/pages-and-layouts#root-layout-required

```tsx:layout.tsx(ãƒ€ãƒ¡)
'use client';
import { ChakraProvider } from '@chakra-ui/react';

export const metadata = {
  title: 'Tatsumi Yamamoto',
  description: 'yamamoto tatsumi',
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang='ja'>
      <head />
      <ChakraProvider>
        <body>{children}</body>
      </ChakraProvider>
    </html>
  );
}
```

ãã®ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ä¸€æ—¦ cc ã‹ã‚‰å…¨ã¦ã‚’ export ã—ã¾ã™ã€‚

```tsx:chakraComponents.tsx
'use client';

export * from '@chakra-ui/react';
```

ãã—ã¦ã€chakra ui ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†ã¨ãã¯ã“ã“ã‹ã‚‰ import ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```tsx:layout.tsx
import { ChakraProvider } from './chakraComponents';

export const metadata = {
  title: 'Tatsumi Yamamoto',
  description: 'yamamoto tatsumi',
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang='ja'>
      <head />
      <ChakraProvider>
        <body>{children}</body>
      </ChakraProvider>
    </html>
  );
}
```

ã“ã®ã¨ãã«ã€`@chakra-ui/react`ã‹ã‚‰ã¯ import ã—ãŸããªã„ã®ã§ã™ãŒã€vscode ã§ã¯ import ã®å€™è£œã«å‡ºã¦ã—ã¾ã†ã®ã§ã€ä¸€æ—¦ä»¥ä¸‹ã®ã‚ˆã†ãªè¨˜è¿°ã§é»™ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```json:.vscode/settings.json
{
  "typescript.tsdk": "node_modules/typescript/lib",
  "typescript.preferences.autoImportFileExcludePatterns": [
    "node_modules/@chakra-ui"
  ]
}
```

`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æœ¬æ ¼çš„ã«ä½¿ã£ãŸã“ã¨ãŒãªã„ã®ã§ã€ã‚‚ã—ã‹ã—ãŸã‚‰ã“ã®è¨­å®šã§å•é¡ŒãŒå‡ºã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã—ã€ui ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã®ä½•ã‹ã—ã‚‰ã®å¯¾å¿œã§è§£æ±ºã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã¨ã‚Šã‚ãˆãšãƒ¡ãƒ¢ã§ã™ã€‚

# å‚è€ƒ

https://github.com/chakra-ui/chakra-ui/issues/7209

https://reffect.co.jp/react/next-js-13-app#i

https://zenn.dev/azukiazusa/articles/next-js-app-dir-tutorial
